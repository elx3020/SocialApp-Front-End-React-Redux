{"version":3,"sources":["redux/types.js","redux/reducers/userReducer.js","redux/reducers/dataReducer.js","redux/reducers/uiReducer.js","redux/store.js","redux/actions/userAction.js","components/Navbar/Notifications.js","components/layout/NavBar.js","components/layout/Footer.js","redux/actions/dataActions.js","components/posts/PostCard.js","components/homepage/Feedhead.js","components/skeletal/HomeSkeletal.js","images/no-img.png","pages/homePage.js","pages/loginPage.js","pages/signUpPage.js","components/profile/EditUserData.js","pages/ProfilePage.js","components/posts/PostDetails.js","components/posts/CommentComponent.js","components/posts/CreateComment.js","pages/postDetailPage.js","custom_routes/AuthRoute.js","App.js","reportWebVitals.js","index.js"],"names":["SET_AUTHENTICATED","SET_UNAUTHENTICATED","SET_USER","MARK_NOTIFICATIONS_READ","SET_ERRORS","LOADING_UI","CLEAR_ERRORS","LOADING_DATA","LOADING_COMMENTS","GET_POSTS","GET_POST","CLEAR_POST","SET_POST","LIKE_POST","UNLIKE_POST","DELETE_POST","GET_COMMENTS","GET_POST_ONLY","SET_COMMENT","initialState","authenticated","loading","credentials","likes","notifications","posts","post","comments","loadingComments","errors","middleware","thunk","reducers","combineReducers","user","state","action","type","payload","userHandle","handle","postId","filter","like","map","notification","read","data","Object","assign","index","findIndex","UI","store","createStore","compose","applyMiddleware","logoutUser","history","dispatch","localStorage","removeItem","axios","defaults","headers","common","push","getUserData","get","then","res","catch","err","console","error","setAuthorizationHeader","token","FBIdToken","setItem","mapActionsToProps","markNotificationRead","log","connect","props","useState","isPanelOpen","setIsPanelOpen","alertIcon","some","className","notificationList","sentence","style","color","textDecoration","to","recipient","sender","notificationId","onClick","event","prev","panel","document","querySelector","classList","add","remove","length","id","linkStyles","marginLeft","navBarStyle","backgroundColor","height","position","width","display","justifyContent","alignItems","zIndex","userhandle","displayNavBar","Footer","deletePost","delete","likePost","unlikePost","PostCard","title","body","createdAt","userImage","likeCount","commentCount","useHistory","handlePostDetails","likebutton","find","deletePostButton","src","alt","dayjs","format","porpTypes","PropTypes","func","isRequired","object","FeedHead","imageUrl","postTitle","setpostTitle","postBody","setpostBody","handleChange","target","name","value","userHead","onSubmit","preventDefault","postData","setPost","window","alert","placeholder","onChange","rows","resize","noUserHead","propType","Proptypes","bool","HomeSkeletal","Array","from","item","homepageStyle","getPosts","useEffect","displayPost","flex","Feedhead","loginUser","userData","response","userEmail","setuserEmail","userPassword","setuserPassword","email","password","htmlFor","disabled","signUpUser","newUserData","confirmedPassword","setconfirmedPassword","setuserHandle","confirmPassword","editUserData","editData","userLocation","userWebsite","userBio","bio","website","location","toggleEdit","handleEditData","cols","uploadImage","formData","createAt","setUserLocation","setUserWebsite","setUserBio","editingProfile","setEditingProfile","undefined","profileHead","hidden","image","files","FormData","append","getElementById","click","profileBody","href","profileMarkup","EditUserData","titleStyle","flexDirection","cardStyle","padding","border","contentStyle","marginTop","footerStyle","PostDetails","fontSize","CommentComponent","comment","postComment","setComment","commentData","PostpageStyle","commentSectionStyle","getPost","getComments","getOnlyPost","post_handle","useParams","keys","constructor","displayPostDetails","displayComments","Component","component","rest","render","baseURL","jwtDecode","exp","Date","now","routes","exact","path","LoginPage","SignUpPage","Profilepage","PostDetailsPage","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.97dcbba6.chunk.js","sourcesContent":["// User reducer types \r\nexport const SET_AUTHENTICATED = 'SET_AUTHENTICATED';\r\nexport const SET_UNAUTHENTICATED = 'SET_UNAUTHENTICATED';\r\nexport const SET_USER = 'SET_USER';\r\nexport const MARK_NOTIFICATIONS_READ = 'MARK_NOTIFICATIONS_READ';\r\n//  UI reducer Types\r\nexport const SET_ERRORS = 'SET_ERRORS';\r\nexport const LOADING_UI = 'LOADING_UI';\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\nexport const LOADING_DATA = 'LOADING_DATA';\r\nexport const LOADING_COMMENTS = 'LOADING_COMMENTS';\r\n// Data reducer types\r\nexport const GET_POSTS = 'GET_POSTS';\r\nexport const GET_POST = 'GET_POST';\r\nexport const CLEAR_POST = 'CLEAR_POST';\r\nexport const SET_POST = 'SET_POST';\r\nexport const LIKE_POST = 'LIKE_POST';\r\nexport const UNLIKE_POST = 'UNLIKE_POST';\r\nexport const DELETE_POST = 'DELETE_POST';\r\nexport const GET_COMMENTS = 'GET_COMMENTS';\r\nexport const GET_POST_ONLY = 'GET_POST_ONLY';\r\nexport const SET_COMMENT = 'SET_COMMENT';","/* eslint-disable import/no-anonymous-default-export */\r\nimport {\r\n  SET_USER,\r\n  LOADING_UI,\r\n  SET_AUTHENTICATED,\r\n  SET_UNAUTHENTICATED,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  MARK_NOTIFICATIONS_READ,\r\n} from \"../types\";\r\n\r\nconst initialState = {\r\n  authenticated: false,\r\n  loading: false,\r\n  credentials: {},\r\n  likes: [],\r\n  notifications: [],\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_AUTHENTICATED:\r\n      return {\r\n        ...state,\r\n        authenticated: true,\r\n      };\r\n    case SET_UNAUTHENTICATED:\r\n      return initialState;\r\n    case LOADING_UI:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case SET_USER:\r\n      return {\r\n        authenticated: true,\r\n        loading: false,\r\n        ...action.payload,\r\n      };\r\n    case LIKE_POST:\r\n      return {\r\n        ...state,\r\n        likes: [\r\n          ...state.likes,\r\n          {\r\n            userHandle: state.credentials.handle,\r\n            postId: action.payload.postId,\r\n          },\r\n        ],\r\n      };\r\n    case UNLIKE_POST:\r\n      return {\r\n        ...state,\r\n        likes: state.likes.filter(\r\n          (like) => like.postId !== action.payload.postId\r\n        ),\r\n      };\r\n    case MARK_NOTIFICATIONS_READ:\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.map((notification) => ({\r\n          ...notification,\r\n          read: true,\r\n        })),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","/* eslint-disable import/no-anonymous-default-export */\r\n\r\nimport {\r\n  GET_POSTS,\r\n  GET_POST,\r\n  SET_POST,\r\n  LOADING_DATA,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  DELETE_POST,\r\n  GET_COMMENTS,\r\n  LOADING_COMMENTS,\r\n  CLEAR_POST,\r\n  GET_POST_ONLY,\r\n  SET_COMMENT,\r\n} from \"../types\";\r\n\r\nconst initialState = {\r\n  posts: [],\r\n  post: {},\r\n  comments: [],\r\n  loading: false,\r\n  loadingComments: false,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    // post reducers\r\n    case GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload,\r\n        loading: false,\r\n      };\r\n    case GET_POST:\r\n      let post = state.posts.filter((post) => post.postId === action.payload);\r\n      return {\r\n        ...state,\r\n        post: Object.assign({}, ...post),\r\n        loading: false,\r\n      };\r\n\r\n    case GET_POST_ONLY:\r\n      return {\r\n        ...state,\r\n        post: action.payload,\r\n        loading: false,\r\n      };\r\n    case CLEAR_POST:\r\n      return {\r\n        ...state,\r\n        post: {},\r\n        comments: [],\r\n      };\r\n\r\n    case SET_POST:\r\n      return {\r\n        ...state,\r\n        posts: [action.payload, ...state.posts],\r\n        loading: false,\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((post) => post.postId !== action.payload),\r\n        loading: false,\r\n      };\r\n\r\n    // comments reducers\r\n\r\n    case GET_COMMENTS:\r\n      return {\r\n        ...state,\r\n        comments: action.payload,\r\n        loadingComments: false,\r\n      };\r\n    case SET_COMMENT:\r\n      return {\r\n        ...state,\r\n        comments: [...state.comments, action.payload],\r\n        loadingComments: false,\r\n      };\r\n\r\n    // ui reducers\r\n    case LOADING_DATA:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case LOADING_COMMENTS:\r\n      return {\r\n        ...state,\r\n        loadingComments: true,\r\n      };\r\n    case LIKE_POST:\r\n    case UNLIKE_POST:\r\n      let index = state.posts.findIndex(\r\n        (post) => post.postId === action.payload.postId\r\n      );\r\n      state.posts[index] = action.payload;\r\n      return {\r\n        ...state,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nimport { SET_ERRORS, CLEAR_ERRORS, LOADING_UI } from \"../types\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  errors: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_ERRORS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: action.payload,\r\n      };\r\n    case CLEAR_ERRORS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: null,\r\n      };\r\n    case LOADING_UI:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport dataReducer from \"./reducers/dataReducer\";\r\nimport uiReducer from \"./reducers/uiReducer\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst reducers = combineReducers({\r\n  user: userReducer,\r\n  data: dataReducer,\r\n  UI: uiReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  initialState,\r\n  compose(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import axios from \"axios\";\r\nimport {\r\n  SET_USER,\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  LOADING_UI,\r\n  SET_UNAUTHENTICATED,\r\n  MARK_NOTIFICATIONS_READ,\r\n} from \"../types\";\r\n\r\n// login user\r\n// pair with login handler\r\nexport const loginUser = (userData, history) => (dispatch) => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .post(\"/login\", userData)\r\n    .then((res) => {\r\n      // console.log(res.data);\r\n      setAuthorizationHeader(res.data.token);\r\n      dispatch(getUserData());\r\n      dispatch({ type: CLEAR_ERRORS });\r\n      // setLoading(false);\r\n      history.push(\"/\");\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response.data,\r\n      });\r\n      // setErrors(err.response.data);\r\n      // setLoading(false);\r\n    });\r\n};\r\n\r\n// pair with signup handler\r\n\r\nexport const signUpUser = (newUserData, history) => (dispatch) => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .post(\"/signUp\", newUserData)\r\n    .then((res) => {\r\n      // console.log(res.data);\r\n      setAuthorizationHeader(res.data.token);\r\n      dispatch(getUserData());\r\n      dispatch({ type: CLEAR_ERRORS });\r\n      // setLoading(false);\r\n      history.push(\"/\"); // redirect to home\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response.data,\r\n      });\r\n      // setErrors(err.response.data);\r\n      // setLoading(false);\r\n    });\r\n};\r\n\r\n// logout user of web app\r\n// declaring as an action to keep track of the event with redux\r\n// we call this function automatically when the token has expired or if the user decide to log out\r\n\r\nexport const logoutUser = (history) => (dispatch) => {\r\n  localStorage.removeItem(\"FBIdToken\"); // we remove the expired token from local storage\r\n  delete axios.defaults.headers.common[\"Authorization\"]; //we delete the authorization header\r\n  dispatch({ type: SET_UNAUTHENTICATED }); //we dispatch the action\r\n  history.push(\"/\"); // finally we redirect the user to the homepage\r\n};\r\n\r\n// uses the add User Details\r\n// ! Protected Route\r\n\r\nexport const editUserData = (editData) => (dispatch) => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .post(\"/user\", editData)\r\n    .then(() => {\r\n      dispatch(getUserData());\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const markNotificationRead = (notifications) => (dispatch) => {\r\n  axios\r\n    .post(\"/notifications\", notifications)\r\n    .then(() => {\r\n      dispatch({ type: MARK_NOTIFICATIONS_READ });\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n// uses the upload image handler\r\n// ! Protected Route\r\n\r\nexport const uploadImage = (formData) => (dispatch) => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .post(\"/user/image\", formData)\r\n    .then(() => {\r\n      dispatch(getUserData());\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n// we have to set the user data any time the data of the user change\r\nexport const getUserData = () => (dispatch) => {\r\n  axios\r\n    .get(\"/user\")\r\n    .then((res) => {\r\n      dispatch({\r\n        type: SET_USER,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.error(err);\r\n    });\r\n};\r\n\r\nconst setAuthorizationHeader = (token) => {\r\n  const FBIdToken = `Bearer ${token}`;\r\n  localStorage.setItem(\"FBIdToken\", FBIdToken);\r\n  axios.defaults.headers.common[\"Authorization\"] = FBIdToken;\r\n};\r\n","import { useState } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n// style for animations\r\nimport \"../../styles/Notifications-Style.css\";\r\n// redux stuff\r\nimport { connect } from \"react-redux\";\r\nimport { markNotificationRead } from \"../../redux/actions/userAction\";\r\n\r\nconst Notifications = (props) => {\r\n  const [isPanelOpen, setIsPanelOpen] = useState(false);\r\n\r\n  const { notifications } = props;\r\n\r\n  // show notifications in panel\r\n\r\n  const displayNotifications = (notification) => {\r\n    let sentence =\r\n      notification.type === \"like\" ? \" like your post.\" : \" comment your post\";\r\n\r\n    return (\r\n      <li key={notification.notificationId}>\r\n        <Link\r\n          style={{ color: \"white\", textDecoration: \"none\" }}\r\n          to={`/${notification.recipient}/post/${notification.postId}`}\r\n        >\r\n          {notification.sender} {sentence}\r\n        </Link>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const existANotification = notifications.some(\r\n    (notification) => notification.read === false\r\n  );\r\n\r\n  // handler ui events\r\n\r\n  const toogleNotificationPanel = (event) => {\r\n    setIsPanelOpen((prev) => !prev);\r\n    const panel = document.querySelector(\".panel\");\r\n    if (!isPanelOpen) {\r\n      panel.classList.add(\"panel-open\");\r\n      panel.classList.remove(\"panel-close\");\r\n      if (\r\n        notifications.filter((notification) => notification.read === false)\r\n          .length > 0\r\n      ) {\r\n        props.markNotificationRead(\r\n          notifications\r\n            .filter((notification) => notification.read === false)\r\n            .map((notification) => notification.notificationId)\r\n        );\r\n      }\r\n    } else {\r\n      panel.classList.add(\"panel-close\");\r\n      panel.classList.remove(\"panel-open\");\r\n    }\r\n  };\r\n\r\n  const alertIcon = existANotification ? (\r\n    <div className=\"alert-active\"></div>\r\n  ) : (\r\n    <div></div>\r\n  );\r\n\r\n  const notificationList = notifications.map(displayNotifications);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"notification-link\" onClick={toogleNotificationPanel}>\r\n        Notifications\r\n      </div>\r\n      {alertIcon}\r\n      <div id=\"notifications-panel\" className=\"panel\">\r\n        <ul>{notificationList}</ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  notifications: state.user.notifications,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  markNotificationRead,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(Notifications);\r\n","import { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n \r\n// redux stuff\r\nimport { connect } from \"react-redux\";\r\n\r\n// components\r\nimport Notifications from \"../Navbar/Notifications\";\r\n\r\nconst linkStyles = {\r\n    color: \"red\",\r\n    marginLeft: \"2rem\",\r\n    textDecoration:\"none\"\r\n}\r\n\r\nconst navBarStyle = {\r\n    backgroundColor: \"black\",\r\n    height: \"40px\",\r\n    position: \"fixed\",\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    zIndex: 2\r\n}\r\n\r\n\r\nconst NavBar = (props) =>{\r\n\r\n    // component props\r\n    const {authenticated,userhandle} = props;\r\n\r\n    const displayNavBar = authenticated ? \r\n        ( <div style={{display:\"flex\"}}>\r\n            <Link to=\"/\" style={linkStyles}>Home</Link>\r\n            <Link to={`/profile/${userhandle}`} style={linkStyles}>Profile</Link>\r\n            <Notifications />\r\n            </div>)\r\n        :\r\n        (<div>\r\n            <Link to=\"/\" style={linkStyles}>Home</Link>\r\n            <Link to=\"/login\" style={linkStyles}>Login</Link>\r\n            <Link to=\"/signup\" style={linkStyles}>Sign up</Link>\r\n            <Link to={`/profile/${userhandle}`} style={linkStyles}>Profile</Link>\r\n            </div>)\r\n    \r\n\r\n    return(\r\n        <div style={navBarStyle}>\r\n            {displayNavBar}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nNavBar.propTypes = {\r\n    authenticated: PropTypes.bool.isRequired,\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    authenticated: state.user.authenticated,\r\n}) \r\n\r\n\r\nexport default connect(mapStateToProps)(NavBar);","import \"../../styles/PageStyle.css\";\r\n\r\nconst Footer = (props) => {\r\n  return (\r\n    <footer className=\"footer-format\">\r\n      Esteban Lasso &copy; All rights reserved\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import {\r\n  GET_POSTS,\r\n  SET_POST,\r\n  LOADING_DATA,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  DELETE_POST,\r\n  GET_POST,\r\n  LOADING_COMMENTS,\r\n  GET_COMMENTS,\r\n  CLEAR_POST,\r\n  GET_POST_ONLY,\r\n  SET_COMMENT\r\n} from \"../types\";\r\nimport axios from \"axios\";\r\n\r\n// get posts\r\nexport const getPosts = () => (dispatch) => {\r\n  dispatch({ type: LOADING_DATA });\r\n  axios\r\n    .get(\"/posts\")\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_POSTS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_POSTS,\r\n        payload: [],\r\n      });\r\n    });\r\n};\r\n\r\n// get post\r\n\r\nexport const getPost = (postId) => (dispatch) => {\r\n  dispatch({ type: LOADING_DATA });\r\n  dispatch({type: CLEAR_POST});\r\n    dispatch({type: GET_POST,\r\n              payload: postId}); \r\n};\r\n\r\n// if user gets directly to the post or refresh the page, we get only the post data\r\n\r\nexport const getOnlyPost = (postId) => (dispatch) => {\r\n  dispatch({ type: LOADING_DATA });\r\n  axios\r\n  .get(`/post/${postId}`)\r\n  .then(res => {\r\n    dispatch({type: GET_POST_ONLY,\r\n              payload: res.data\r\n            });\r\n  })\r\n  .catch(err => console.log(err));\r\n}\r\n\r\n\r\n// get the comments of the post\r\n\r\nexport const getComments = (postId) => (dispatch) => {\r\n  dispatch({type: LOADING_COMMENTS});\r\n  axios\r\n  .get(`/post/details/${postId}`)\r\n  .then((res) => {\r\n    dispatch({\r\n      type: GET_COMMENTS,\r\n      payload: res.data\r\n    });\r\n  })\r\n  .catch(err => console.log(err));\r\n}\r\n\r\n// make a comment \r\n\r\nexport const postComment = (postId,postData) => (dispatch) => {\r\n  dispatch({type:LOADING_COMMENTS});\r\n  axios\r\n  .post(`/post/${postId}/comment`,postData)\r\n  .then(res => {\r\n    dispatch({type: SET_COMMENT,\r\n              payload: res.data})\r\n  })\r\n  .catch(err => console.log(err))\r\n\r\n}\r\n\r\n\r\n\r\n// publish a new post\r\n\r\nexport const setPost = (postData) => (dispatch) => {\r\n  dispatch({ type: LOADING_DATA });\r\n  axios\r\n    .post(\"/post\", postData)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: SET_POST,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n// delete posts\r\n\r\nexport const deletePost = (postId) => (dispatch) => {\r\n  dispatch({ type: LOADING_DATA });\r\n  axios\r\n    .delete(`/post/${postId}`)\r\n    .then(() => {\r\n      dispatch({ type: DELETE_POST, payload: postId });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n// like post\r\n\r\nexport const likePost = (postId) => (dispatch) => {\r\n  axios\r\n    .get(`/post/${postId}/like`)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: LIKE_POST,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n// unlike post\r\n\r\nexport const unlikePost = (postId) => (dispatch) => {\r\n  axios\r\n    .get(`/post/${postId}/unlike`)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: UNLIKE_POST,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n","import dayjs from \"dayjs\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useHistory } from \"react-router\";\r\n\r\n// styles\r\nimport \"../../styles/Card.css\";\r\nimport \"../../styles/iconsStyles.css\";\r\nimport \"../../styles/buttonsStyle.css\";\r\n// redux\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  likePost,\r\n  unlikePost,\r\n  deletePost,\r\n} from \"../../redux/actions/dataActions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Post Card Component\r\n\r\nconst PostCard = (props) => {\r\n  // data:\r\n  const {\r\n    post: {\r\n      title,\r\n      body,\r\n      createdAt,\r\n      userImage,\r\n      userHandle,\r\n      likeCount,\r\n      commentCount,\r\n      postId,\r\n    },\r\n    user: { authenticated, credentials },\r\n  } = props;\r\n\r\n  // hook\r\n  let history = useHistory();\r\n\r\n  //  helper functions\r\n  const userPost = () => {\r\n    if (userHandle === credentials.handle) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // check if user already like the post\r\n  const likedPost = () => {\r\n    if (\r\n      props.user.likes &&\r\n      props.user.likes.find((like) => like.postId === postId)\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // click handlers\r\n\r\n  const handlePostDetails = () => {\r\n    history.push(`${userHandle}/post/${postId}`);\r\n  };\r\n\r\n  const handleClickLike = () => {\r\n    props.likePost(postId);\r\n  };\r\n\r\n  const handleClickUnlike = () => {\r\n    props.unlikePost(postId);\r\n  };\r\n\r\n  const handleClickDelete = () => {\r\n    props.deletePost(postId);\r\n  };\r\n\r\n  // like button\r\n\r\n  const likebutton = !authenticated ? (\r\n    <button className=\"button unlike\">\r\n      <Link to=\"/login\">\r\n        <i className=\"far fa-heart\"></i>\r\n      </Link>\r\n    </button>\r\n  ) : likedPost() ? (\r\n    <button className=\"button like\" onClick={handleClickUnlike}>\r\n      <i className=\"fas fa-heart\"></i>\r\n    </button>\r\n  ) : (\r\n    <button className=\"button unlike\" onClick={handleClickLike}>\r\n      <i className=\"far fa-heart\"></i>\r\n    </button>\r\n  );\r\n\r\n  // delete button\r\n\r\n  const deletePostButton = !authenticated ? (\r\n    <p>\r\n      <Link to=\"/login\">by {userHandle}</Link>\r\n    </p>\r\n  ) : userPost() ? (\r\n    <button onClick={handleClickDelete}>Delete</button>\r\n  ) : (\r\n    <p>by {userHandle}</p>\r\n  );\r\n\r\n  return (\r\n    <div className=\"card-container\">\r\n      <div className=\"card-head\">\r\n        <div id=\"user-image\">\r\n          <img src={userImage} alt=\"userImage\" />\r\n        </div>\r\n        <h3>{title}</h3>\r\n        <div id=\"toggle\">{deletePostButton}</div>\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <p onClick={handlePostDetails}>{body}</p>\r\n        <span>{dayjs(createdAt).format(\"MMM YYYY\")}</span>\r\n      </div>\r\n      <div className=\"card-footer\">\r\n        <div className=\"likes-section\">\r\n          {likebutton}\r\n          <p>{likeCount}</p>\r\n        </div>\r\n\r\n        <span onClick={handlePostDetails}>\r\n          <i className=\"fas fa-comments\"></i> Comments: {commentCount}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nPostCard.porpTypes = {\r\n  likePost: PropTypes.func.isRequired,\r\n  unlikePost: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  post: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  likePost,\r\n  unlikePost,\r\n  deletePost,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(PostCard);\r\n","import { connect } from \"react-redux\";\r\nimport Proptypes from \"prop-types\";\r\nimport { setPost } from \"../../redux/actions/dataActions\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../styles/FeedHeadStyle.css\";\r\nconst FeedHead = (props) => {\r\n  // data from redux tree\r\n\r\n  const { authenticated } = props;\r\n  const { loading } = props;\r\n  const { handle, imageUrl } = props.credentials;\r\n\r\n  const [postTitle, setpostTitle] = useState(\"\");\r\n\r\n  const [postBody, setpostBody] = useState(\"\");\r\n\r\n  // handle change to make form visible\r\n\r\n  // handle submit post\r\n\r\n  const submitPost = (event) => {\r\n    event.preventDefault();\r\n\r\n    const postData = {\r\n      title: postTitle,\r\n      body: postBody,\r\n    };\r\n    if (postData.title !== \"\" && postData.body !== \"\") {\r\n      props.setPost(postData);\r\n      setpostTitle(\"\");\r\n      setpostBody(\"\");\r\n    } else {\r\n      window.alert(\"Cannot post without text.\");\r\n    }\r\n  };\r\n\r\n  // handle change of input // make a uncotrolled component controlled\r\n\r\n  const handleChange = ({ target }) => {\r\n    if (target.name === \"title\") {\r\n      setpostTitle(target.value);\r\n    } else if (target.name === \"body\") {\r\n      setpostBody(target.value);\r\n    }\r\n  };\r\n\r\n  const userHead = (\r\n    <div className=\"feed-head-container\">\r\n      <div className=\"feed-head-header\">\r\n        <img\r\n          src={imageUrl}\r\n          alt=\"user_image\"\r\n          style={{ width: \"50px\", height: \"auto\" }}\r\n        />\r\n        <h3>{handle}</h3>\r\n      </div>\r\n      <form className=\"feed-form\" onSubmit={submitPost}>\r\n        <div className=\"form-input\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            id=\"title\"\r\n            placeholder=\"Title:\"\r\n            onChange={handleChange}\r\n            value={postTitle}\r\n          />\r\n          <textarea\r\n            name=\"body\"\r\n            id=\"body\"\r\n            rows=\"2\"\r\n            placeholder=\"What is it in your mind?\"\r\n            onChange={handleChange}\r\n            value={postBody}\r\n            style={{ resize: \"none\" }}\r\n          ></textarea>\r\n        </div>\r\n        <div className=\"footer-panel-head\">\r\n          <i className=\"fas fa-hamsa\"></i>\r\n          <button className=\"submit-button\" type=\"submit\">\r\n            Post\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  const noUserHead = (\r\n    <div className=\"feed-head-no-user\">\r\n      <Link to=\"/signup\">\r\n        <h1>Sign In</h1>\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  return !loading ? authenticated ? userHead : noUserHead : <h1>Loading...</h1>;\r\n};\r\n\r\nFeedHead.propType = {\r\n  authenticated: Proptypes.bool.isRequired,\r\n  credentials: Proptypes.object.isRequired,\r\n  setPost: Proptypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  authenticated: state.user.authenticated,\r\n  credentials: state.user.credentials,\r\n  loading: state.user.loading,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  setPost,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(FeedHead);\r\n","import \"../../styles/Card.css\";\r\nimport NoImage from \"../../images/no-img.png\";\r\n\r\nconst HomeSkeletal = () => {\r\n  const content = Array.from({ length: 5 }, (item, index) => (\r\n    <div className=\"card-container\" key={index}>\r\n      <div className=\"card-head\">\r\n        <div id=\"user-image\">\r\n          <img src={NoImage} alt=\"userImage\" />\r\n        </div>\r\n        <div className=\"fill-bar\"></div>\r\n        <div id=\"toggle\"></div>\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <div className=\"fill-bar\"></div>\r\n        <div className=\"fill-bar short\"></div>\r\n        <div className=\"fill-bar short\"></div>\r\n        <div className=\"fill-bar content\"></div>\r\n      </div>\r\n      <div className=\"card-footer\">\r\n        <div className=\"likes-section\">\r\n          <p>\r\n            <i className=\"fas fa-heart\"></i> 0\r\n          </p>\r\n        </div>\r\n        <span>\r\n          <i className=\"fas fa-comments\"></i> Comments: 0\r\n        </span>\r\n      </div>\r\n    </div>\r\n  ));\r\n\r\n  return content;\r\n};\r\n\r\nexport default HomeSkeletal;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAIAAACRXR/mAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAACxMAAAsTAQCanBgAAATpaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MiA3OS4xNjA5MjQsIDIwMTcvMDcvMTMtMDE6MDY6MzkgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA4LTIwVDE1OjMwOjIxKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wOS0yN1QxNjozNjowOCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wOS0yN1QxNjozNjowOCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Yjk1Yjk0NTYtMTRjYS1lNDRjLTllNTUtZDcyMTA2YTlkMTI5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmI5NWI5NDU2LTE0Y2EtZTQ0Yy05ZTU1LWQ3MjEwNmE5ZDEyOSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmI5NWI5NDU2LTE0Y2EtZTQ0Yy05ZTU1LWQ3MjEwNmE5ZDEyOSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Yjk1Yjk0NTYtMTRjYS1lNDRjLTllNTUtZDcyMTA2YTlkMTI5IiBzdEV2dDp3aGVuPSIyMDIxLTA4LTIwVDE1OjMwOjIxKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PklUTd4AAAT4SURBVFiF7ZnXchs3FIbRt5JUsSVbVrNjK5Ezzkze/xEy4xSXRI76SFRl2w4sgJMLJhpLpiWCkhxf+J+93F18xJ7yHxAftI/Q1yfyfwOM1jcsF33DctE3LBexO3kL/lfIWgCA27/wtlhCCM6o1qbW2lpgjHHOrLVSKmstxviLYgGAEFxw0e33O91emmVSKQSIMRZF4czU1MPZGYRQWVWTkeEJmg8AhEGg6npze7d9cqKUIphQShDC1lpjDGV0dmZ67dnTqVYrL4ovgQUAYRjkefn6zdt+fxCGAaf042jCCFmAoigZZz+9XF94ND8BmVsmAkDge2VZ/fLrb2mStpoNdpkJIQQIYYzjOEIIvf7jzfHpaRgGrnnghkUpRQi/+2sjy4s4jq5ZDAB8z6OUvnm/kWW573n3hQUIBb53cHR0cnbeuJbpgizw/bIqt/f2GXPLLQcsirGq6/bxCaV0zPwaJsfp2Xm31xNC3AsWF6LfT9I08zxv/FhhjEqpOr0ed9kwByxGSZrnda2JSykCQISQNMu11uPXMAcsCyClRO7VkVIiparvC8uCMQZPwIWxtdapFzlgEYwxIYDcOzEgTDBGGI39rBuW4HwCf2Ct5YwxRq29BywLEAYBJQS5oGGMjDVhGHLOx89fByxV11OtZhD4Suvxn7IWEUKmWy2n/uOAZYyJo2juwayUaszgxRhXVTXdaj2YnZFK3QsWQkjV9crSYhSGYxopY4yxdmVpkTNmjLk3LKWiMFhfe661VnV9PRkApFn+bGV5YX7e1Q+6YWGMi6JceDT/6uW6lLIsRy+GMdZap2m2urz4w4vvZK2stU4LOZtmC6goy9WlRU+Ijc3NJM04Z5zzYUcCAG2MkkoIvv79i+dPV7Ux9U37+qkmMc1DRWFQSdU+Pu72BmVVWWsBgBDiCd5sNh/PzU1PNctKOrXCybEwxpwxxtgw4THGaZYnaVpJiRBwLhpx1Go2KKHDbmOMUXXt6k7H/YgAwDnzhKe1TrN8kCZZVhRlKaW0AGQ4JSIECIG1CGNPiCDw4zBsNZuNRiw4V7VStR5z327eLQDgjPm+nxfFydl5p9tNkqyUFQJEKKGUXjBd3A8AxthhRfA80WjEs9PT8w8fNBsNqZRSN5e9m7GiMFCq3j9st4+OkzQjhAjBKaXj/WxkrVWq1kbHUfR4fm558UkYBEVZXm8oPosFAIwx3/dOT88/bG13+wNPcCfje2kZjJWqK1k14njt2dMnC4+VUtdUvtFYAMA5F5xv7ux+2NrGGIe+f/ujBYxxVcla16vLSy/XXgx95UiyESE/jG7B2ds/N3b29sMwuMi7WwoAfN/jhm3v7leV/PnVj54QclSojajyhBBPeO8/bG7v7cVxdFdMF2SEkGYjPjo5+f3de0rpyFntKtZwhNo/PNza2Y2jCGN8h0wfqxHHB+3jze0d3x8x2V7F8oTI8/zvrR1PiPHTbTKFYbC1t9/p9D6dua9icc73Dtp5UToNg5OJM6a12T88xOTa2KKUZnlx1ul4nrhvJvTfQUun2+v1EyH4Z7EE54MkKYqSMwaAvsBFKa2k7A8GnF3CupQFlJIkTbOimGAWnFhVJQdJcuXjXCqnjNJBkqZ5xujdHPWOI2ON7/vTrdbHVvESlrXWE0IIYcHNTN5GBJNa11fGlku7Qgipta5d5q270pVC/5X+XfCVYv0DOjAXvBey7REAAAAASUVORK5CYII=\"","import { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// styles\r\nimport \"../styles/PageStyle.css\";\r\n\r\n// redux stuff\r\nimport { connect } from \"react-redux\";\r\nimport { getPosts } from \"../redux/actions/dataActions\";\r\n\r\n// components\r\nimport PostCard from \"../components/posts/PostCard\";\r\nimport Feedhead from \"../components/homepage/Feedhead\";\r\nimport HomeSkeletal from \"../components/skeletal/HomeSkeletal\";\r\n\r\nconst homepageStyle = {\r\n  display: \"flex\",\r\n  width: \"100%\",\r\n};\r\n\r\nconst HomePage = (props) => {\r\n  useEffect(() => {\r\n    props.getPosts();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const { posts, loading } = props.data;\r\n\r\n  let displayPost = loading ? (\r\n    <HomeSkeletal />\r\n  ) : (\r\n    posts.map((post) => <PostCard key={post.postId} post={post} />)\r\n  );\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <div className=\"div-content\">\r\n        <div style={homepageStyle}>\r\n          <div className=\"left\" style={{ flex: \"1\" }}></div>\r\n          <div className=\"post-container center\" style={{ flex: \"1.5\" }}>\r\n            <Feedhead />\r\n            {displayPost}\r\n          </div>\r\n          <div className=\"right\" style={{ flex: \"1\" }}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nHomePage.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  data: state.data,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getPosts })(HomePage);\r\n","import { useState } from \"react\";\r\nimport { useHistory } from \"react-router\"; // hook to redirect the user to other page\r\nimport PropTypes from \"prop-types\";\r\n\r\n// styles\r\n\r\nimport \"../styles/PageStyle.css\";\r\nimport \"../styles/formStyle.css\";\r\n// redux stuff\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../redux/actions/userAction\";\r\n\r\nconst LoginPage = (props) => {\r\n  const [userEmail, setuserEmail] = useState(\"\"); // user email\r\n  const [userPassword, setuserPassword] = useState(\"\"); // userpassword\r\n  // const [loading,setLoading] = useState(false); // parameter to display a loading animation\r\n\r\n  let history = useHistory();\r\n\r\n  // handle the submit of the form\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const userData = {\r\n      email: userEmail,\r\n      password: userPassword,\r\n    };\r\n\r\n    props.loginUser(userData, history); // redux related, basically pass the data from the store to the props of this component\r\n  };\r\n\r\n  // handle to update the states of the components base on the change event of the html event\r\n  const handleChange = ({ target }) => {\r\n    if (target.name === \"email\") {\r\n      setuserEmail(target.value);\r\n    } else if (target.name === \"password\") {\r\n      setuserPassword(target.value);\r\n    }\r\n  };\r\n\r\n  const {\r\n    UI: { loading },\r\n  } = props; // loading value is store inside the props object inside the UI\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-container\">\r\n        <header className=\"header-format\">\r\n          <h1>Login Page</h1>\r\n        </header>\r\n        <div>\r\n          <div className=\"div-content\">\r\n            <form\r\n              id=\"login form\"\r\n              className=\"form-format\"\r\n              onSubmit={handleSubmit}\r\n            >\r\n              <h2 className=\"form-title\">Log in:</h2>\r\n              <label htmlFor=\"email\"></label>\r\n              <input\r\n                className=\"input-format\"\r\n                type=\"email\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Email:\"\r\n                value={userEmail}\r\n                onChange={handleChange}\r\n              />\r\n              <label htmlFor=\"password\"></label>\r\n              <input\r\n                className=\"input-format\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password:\"\r\n                value={userPassword}\r\n                onChange={handleChange}\r\n              />\r\n              <div className=\"buttons-div\">\r\n                <button\r\n                  className=\"button-format\"\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                >\r\n                  Login\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nLoginPage.propTypes = {\r\n  loginUser: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({ user: state.user, UI: state.UI });\r\n\r\nconst mapActionsToProps = {\r\n  loginUser,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(LoginPage);\r\n","import { useState } from \"react\";\r\nimport { useHistory } from \"react-router\"; // hook to redirect the user to other page\r\nimport PropTypes from \"prop-types\"; // proptypes\r\n\r\n// styles\r\n\r\nimport \"../styles/PageStyle.css\";\r\nimport \"../styles/formStyle.css\";\r\n// redux stuff\r\nimport { connect } from \"react-redux\";\r\nimport { signUpUser } from \"../redux/actions/userAction\";\r\n\r\nconst SignUpPage = (props) => {\r\n  const [userEmail, setuserEmail] = useState(\"\"); // user email\r\n  const [confirmedPassword, setconfirmedPassword] = useState(\"\"); // user email\r\n  const [userPassword, setuserPassword] = useState(\"\"); // userpassword\r\n  const [userhandle, setuserHandle] = useState(\"\");\r\n  // const [errors,setErrors] = useState({}); // error to show to the user\r\n\r\n  let history = useHistory();\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const userData = {\r\n      email: userEmail,\r\n      password: userPassword,\r\n      confirmPassword: confirmedPassword,\r\n      handle: userhandle,\r\n    };\r\n\r\n    props.signUpUser(userData, history);\r\n  };\r\n\r\n  const handleChange = ({ target }) => {\r\n    if (target.name === \"email\") {\r\n      setuserEmail(target.value);\r\n    } else if (target.name === \"password\") {\r\n      setuserPassword(target.value);\r\n    } else if (target.name === \"confirmedPassword\") {\r\n      setconfirmedPassword(target.value);\r\n    } else if (target.name === \"handle\") {\r\n      setuserHandle(target.value);\r\n    }\r\n  };\r\n\r\n  const {\r\n    UI: { loading },\r\n  } = props;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-container\">\r\n        <header className=\"header-format\">\r\n          <h1>Sign Up</h1>\r\n        </header>\r\n        <div className=\"div-content\">\r\n          <form\r\n            className=\"form-format\"\r\n            id=\"signin-form\"\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <h2 className=\"form-title\">Sign In:</h2>\r\n            <label htmlFor=\"email\"></label>\r\n            <input\r\n              className=\"input-format\"\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email:\"\r\n              value={userEmail}\r\n              onChange={handleChange}\r\n            />\r\n            <label htmlFor=\"password\"></label>\r\n            <input\r\n              className=\"input-format\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password:\"\r\n              value={userPassword}\r\n              onChange={handleChange}\r\n            />\r\n            <label htmlFor=\"confirmedPassword\"></label>\r\n            <input\r\n              className=\"input-format\"\r\n              type=\"password\"\r\n              id=\"confirmedPassword\"\r\n              name=\"confirmedPassword\"\r\n              placeholder=\"Confirm Password:\"\r\n              value={confirmedPassword}\r\n              onChange={handleChange}\r\n            />\r\n            <label htmlFor=\"handle\"></label>\r\n            <input\r\n              className=\"input-format\"\r\n              type=\"text\"\r\n              id=\"handle\"\r\n              name=\"handle\"\r\n              placeholder=\"handle:\"\r\n              value={userhandle}\r\n              onChange={handleChange}\r\n            />\r\n            <div className=\"buttons-div\">\r\n              <button\r\n                className=\"button-format    \"\r\n                type=\"submit\"\r\n                disabled={loading}\r\n              >\r\n                Sign in\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nSignUpPage.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n  signUpUser: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    UI: state.UI,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = {\r\n  signUpUser,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(SignUpPage);\r\n","import PropTypes from \"prop-types\";\r\n\r\n// styles\r\nimport \"../../styles/ProfileStyles.css\";\r\nimport \"../../styles/buttonsStyle.css\";\r\nimport { editUserData } from \"../../redux/actions/userAction\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst UserEditForm = (props) => {\r\n  const { userLocation, userWebsite, userBio } = props;\r\n\r\n  const submitEditData = (event) => {\r\n    event.preventDefault();\r\n    const userData = {\r\n      bio: userBio,\r\n      website: userWebsite,\r\n      location: userLocation,\r\n    };\r\n    props.editUserData(userData);\r\n\r\n    props.toggleEdit();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"profile-body body-form\" onSubmit={submitEditData}>\r\n        <p>Location: </p>\r\n        <input\r\n          type=\"text\"\r\n          name=\"location\"\r\n          value={userLocation}\r\n          onChange={props.handleEditData}\r\n        />\r\n        <p>Website:</p>\r\n        <input\r\n          type=\"text\"\r\n          name=\"website\"\r\n          value={userWebsite}\r\n          onChange={props.handleEditData}\r\n        />\r\n        <p>Bio:</p>\r\n        <textarea\r\n          id=\"bio\"\r\n          name=\"bio\"\r\n          rows=\"3\"\r\n          cols=\"20\"\r\n          style={{ resize: \"none\" }}\r\n          value={userBio}\r\n          onChange={props.handleEditData}\r\n        ></textarea>\r\n        <div className=\"buttons-bar\">\r\n          <button className=\"button btn-profile\" type=\"submit\">\r\n            Save\r\n          </button>\r\n          <button className=\"button btn-profile\" onClick={props.toggleEdit}>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nUserEditForm.propTypes = {\r\n  editUserData: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loading: state.user.loading,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  editUserData,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(UserEditForm);\r\n","import PropTypes from \"prop-types\";\r\nimport dayjs from \"dayjs\";\r\nimport { useState } from \"react\";\r\nimport { Fragment } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\n// styles\r\n\r\nimport \"../styles/PageStyle.css\";\r\nimport \"../styles/ProfileStyles.css\";\r\nimport \"../styles/buttonsStyle.css\";\r\n// redux stuff\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser, uploadImage } from \"../redux/actions/userAction\";\r\n\r\n// components\r\nimport EditUserData from \"../components/profile/EditUserData\";\r\n\r\nconst ProfilePage = (props) => {\r\n  // values that are obtain from the data base, we destructured from the props object and store in variables with the same name\r\n  const {\r\n    credentials: { handle, createAt, location, website, bio, imageUrl },\r\n    authenticated,\r\n    loading,\r\n  } = props;\r\n\r\n  const history = useHistory();\r\n\r\n  // edit profile state\r\n\r\n  // component states\r\n  const [userLocation, setUserLocation] = useState(\"\");\r\n  const [userWebsite, setUserWebsite] = useState(\"\");\r\n  const [userBio, setUserBio] = useState(\"\");\r\n  const [editingProfile, setEditingProfile] = useState(false);\r\n\r\n  // handle user Logout button\r\n  const handleClick = () => {\r\n    props.logoutUser(history);\r\n  };\r\n\r\n  // handle image change from the input type file element which is hidden to be handle by the buttom below\r\n  const handleImageChange = (event) => {\r\n    const image = event.target.files[0];\r\n    const formData = new FormData(); // form data allow me to send the image in combination with busboy library\r\n    formData.append(\"image\", image, image.name);\r\n    props.uploadImage(formData);\r\n    // send to server\r\n  };\r\n\r\n  // handle click button to update image\r\n  const handleEditPicture = () => {\r\n    const fileInput = document.getElementById(\"imageInput\");\r\n    fileInput.click();\r\n  };\r\n\r\n  // edit user data handler\r\n\r\n  const handleEditData = ({ target }) => {\r\n    if (target.name === \"location\") {\r\n      setUserLocation(target.value);\r\n    } else if (target.name === \"website\") {\r\n      setUserWebsite(target.value);\r\n    } else if (target.name === \"bio\") {\r\n      setUserBio(target.value);\r\n    }\r\n  };\r\n\r\n  const toggleEdit = () => {\r\n    setEditingProfile((prev) => !prev);\r\n    if (location !== undefined) {\r\n      setUserLocation(location);\r\n    }\r\n    if (website !== undefined) {\r\n      setUserWebsite(website);\r\n    }\r\n    if (bio !== undefined) {\r\n      setUserBio(bio);\r\n    }\r\n  };\r\n\r\n  // styles\r\n\r\n  // profile image, buttom and userhandle\r\n\r\n  const profileHead = loading ? (\r\n    <h2>Loading..</h2>\r\n  ) : (\r\n    <div className=\"profile-head\">\r\n      <div>\r\n        <img\r\n          src={imageUrl}\r\n          alt=\"user_image\"\r\n          style={{ width: \"80px\", height: \"auto\" }}\r\n        />\r\n      </div>\r\n      <input\r\n        type=\"file\"\r\n        id=\"imageInput\"\r\n        hidden=\"hidden\"\r\n        onChange={handleImageChange}\r\n      />\r\n      <button onClick={handleEditPicture}>\r\n        <i className=\"fas fa-user-edit\"></i>\r\n      </button>\r\n      <h2>{`@${handle}`}</h2>\r\n    </div>\r\n  );\r\n\r\n  const profileBody = (\r\n    <div className=\"profile-body\">\r\n      <p>Joined {dayjs(createAt).format(\"MMM YYYY\")}</p>\r\n      {location && <p>- {location} -</p>}\r\n      {website && <a href={website}>{website}</a>}\r\n      {bio && <p>{bio}</p>}\r\n      <div className=\"buttons-bar\">\r\n        <button className=\"button btn-profile\" onClick={toggleEdit}>\r\n          Edit Profile\r\n        </button>\r\n        <button className=\"button btn-profile\" onClick={handleClick}>\r\n          Log out\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const profileMarkup = (\r\n    <div className=\"profileuser-container\">\r\n      {authenticated && !loading ? (\r\n        <Fragment>\r\n          {!editingProfile ? (\r\n            <div>\r\n              {profileHead}\r\n              {profileBody}\r\n            </div>\r\n          ) : (\r\n            <EditUserData\r\n              userLocation={userLocation}\r\n              userWebsite={userWebsite}\r\n              userBio={userBio}\r\n              toggleEdit={toggleEdit}\r\n              handleEditData={handleEditData}\r\n            />\r\n          )}\r\n        </Fragment>\r\n      ) : (\r\n        <h1>No user</h1>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <div className=\"div-content\">{profileMarkup}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nProfilePage.propTypes = {\r\n  credentials: PropTypes.object.isRequired,\r\n  authenticated: PropTypes.bool.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n};\r\n\r\nconst mapActionsToProps = {\r\n  logoutUser,\r\n  uploadImage,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  credentials: state.user.credentials,\r\n  authenticated: state.user.authenticated,\r\n  loading: state.user.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(ProfilePage);\r\n","import dayjs from \"dayjs\";\r\nimport PropTypes from \"prop-types\";\r\n// redux\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  likePost,\r\n  unlikePost,\r\n  deletePost,\r\n} from \"../../redux/actions/dataActions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//  styles mostly simple and temporal\r\nlet titleStyle = {\r\n  display: \"flex\",\r\n  flexDirection: \"row\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"space-between\",\r\n};\r\n\r\nconst cardStyle = {\r\n  backgroundColor: \"white\",\r\n  color: \"black\",\r\n  padding: \"1rem\",\r\n  border: \"1px solid gray\",\r\n};\r\n\r\nconst contentStyle = {\r\n  marginTop: \"1rem\",\r\n};\r\n\r\nconst footerStyle = {\r\n  display: \"flex\",\r\n  justifyContent: \"space-between\",\r\n};\r\n\r\n// Post Details Component\r\n\r\nconst PostDetails = (props) => {\r\n  // data:\r\n  const {\r\n    post: {\r\n      title,\r\n      body,\r\n      createdAt,\r\n      userImage,\r\n      userHandle,\r\n      likeCount,\r\n      commentCount,\r\n      postId,\r\n    },\r\n    user: { authenticated, credentials },\r\n  } = props;\r\n\r\n  //  helper functions\r\n  const userPost = () => {\r\n    if (userHandle === credentials.handle) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // check if user already like the post\r\n  const likedPost = () => {\r\n    if (\r\n      props.user.likes &&\r\n      props.user.likes.find((like) => like.postId === postId)\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // click handlers\r\n\r\n  const handleClickLike = () => {\r\n    props.likePost(postId);\r\n  };\r\n\r\n  const handleClickUnlike = () => {\r\n    props.unlikePost(postId);\r\n  };\r\n\r\n  const handleClickDelete = () => {\r\n    props.deletePost(postId);\r\n  };\r\n\r\n  // like button\r\n\r\n  const likebutton = !authenticated ? (\r\n    <button>\r\n      <Link to=\"/login\">Like</Link>\r\n    </button>\r\n  ) : likedPost() ? (\r\n    <button onClick={handleClickUnlike}>Unlike</button>\r\n  ) : (\r\n    <button onClick={handleClickLike}>Like</button>\r\n  );\r\n\r\n  // delete button\r\n\r\n  const deletePostButton = !authenticated ? (\r\n    <p>\r\n      <Link to=\"/login\">by {userHandle}</Link>\r\n    </p>\r\n  ) : userPost() ? (\r\n    <button onClick={handleClickDelete}>Delete</button>\r\n  ) : (\r\n    <p>by {userHandle}</p>\r\n  );\r\n\r\n  return (\r\n    <div style={cardStyle}>\r\n      \r\n        <div style={titleStyle}>\r\n            <img\r\n            src={userImage}\r\n            alt=\"userImage\"\r\n            style={{ width: \"50px\", height: \"auto\" }}\r\n            />\r\n            <h2>{title}</h2>\r\n            {deletePostButton}\r\n        </div>\r\n        <div className=\"content\" style={contentStyle}>\r\n            <p>{body}</p>\r\n            <span style={{ fontSize: \"0.8rem\" }}>\r\n            {dayjs(createdAt).format(\"MMM YYYY\")}\r\n            </span>\r\n        </div>\r\n        <div className=\"post-footer\" style={footerStyle}>\r\n            {likebutton}\r\n            <span>likes {likeCount}</span>\r\n            <span>comments {commentCount}</span>\r\n        </div>\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nPostDetails.porpTypes = {\r\n  likePost: PropTypes.func.isRequired,\r\n  unlikePost: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  post: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  likePost,\r\n  unlikePost,\r\n  deletePost,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(PostDetails);\r\n","import dayjs from \"dayjs\";\r\n\r\nlet titleStyle = {\r\n  display: \"flex\",\r\n  flexDirection: \"row\",\r\n  alignItems: \"center\",\r\n};\r\n\r\nconst CommentComponent = (props) => {\r\n  const {\r\n    comment: { userHandle, body, createdAt, userImage },\r\n  } = props;\r\n\r\n  return (\r\n    <div\r\n      className=\"comment-container\"\r\n      style={{ backgroundColor: \"white\", color: \"black\" }}\r\n    >\r\n      <div className=\"header\" style={titleStyle}>\r\n        <img\r\n          src={userImage}\r\n          alt={userHandle}\r\n          style={{ width: \"50px\", height: \"auto\" }}\r\n        />\r\n        <h3 style={{ marginLeft: \"1rem\" }}>{userHandle}</h3>\r\n      </div>\r\n      <div>{body}</div>\r\n      <span>{dayjs(createdAt).format(\"MMM YYYY\")}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentComponent;\r\n","import { useState } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\n// redux stuff\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { postComment } from \"../../redux/actions/dataActions\";\r\n\r\nconst CreateComment = (props) => {\r\n  // state\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const { postId } = props;\r\n\r\n  // handlers\r\n  const handleSubmitComment = (event) => {\r\n    event.preventDefault();\r\n    const commentData = {\r\n      body: comment,\r\n    };\r\n    props.postComment(postId, commentData);\r\n    setComment(\"\");\r\n  };\r\n\r\n  const handleCommentChange = ({ target }) => {\r\n    if (target.name === \"comment\") {\r\n      setComment(target.value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <img src=\"\" alt=\"\" />\r\n      <form onSubmit={handleSubmitComment}>\r\n        <label htmlFor=\"comment\"></label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"comment\"\r\n          id=\"comment\"\r\n          placeholder=\"Write a comment...\"\r\n          onChange={handleCommentChange}\r\n          value={comment}\r\n        />\r\n        <button type=\"submit\">Comment!</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n// TODO: add proptypes\r\n\r\nCreateComment.propTypes = {\r\n  postComment: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userImage: state.user.credentials.imageUrl,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  postComment,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(CreateComment);\r\n","// React Hooks\r\nimport { useEffect } from \"react\";\r\n\r\n// styles\r\n\r\nimport \"../styles/PageStyle.css\";\r\n\r\n// redux stuff\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getComments,\r\n  getPost,\r\n  getOnlyPost,\r\n} from \"../redux/actions/dataActions\";\r\nimport { useParams } from \"react-router\";\r\n\r\n// components\r\nimport PostDetails from \"../components/posts/PostDetails\";\r\nimport CommentComponent from \"../components/posts/CommentComponent\";\r\nimport CreateComment from \"../components/posts/CreateComment\";\r\n\r\nconst PostpageStyle = {\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  width: \"60%\",\r\n};\r\n\r\nconst commentSectionStyle = {\r\n  backgroundColor: \"black\",\r\n  padding: \"10px\",\r\n};\r\n\r\nconst PostDetailPage = (props) => {\r\n  let { post_handle } = useParams();\r\n\r\n  const { post, loading, loadingComments, comments } = props;\r\n\r\n  useEffect(() => {\r\n    if (post && Object.keys(post).length === 0 && post.constructor === Object) {\r\n      props.getOnlyPost(post_handle);\r\n      props.getComments(post_handle);\r\n    } else if (post.postId !== post_handle) {\r\n      props.getOnlyPost(post_handle);\r\n      props.getComments(post_handle);\r\n    } else {\r\n      props.getPost(post_handle);\r\n      props.getComments(post_handle);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [post_handle]);\r\n\r\n  const displayPostDetails = loading ? (\r\n    <h1>Loading...</h1>\r\n  ) : (\r\n    <PostDetails key={post.postId} post={post} />\r\n  );\r\n\r\n  const displayComments = loadingComments ? (\r\n    <h1>Loading Comments...</h1>\r\n  ) : !comments.length === true ? (\r\n    <h1>No comments yet..</h1>\r\n  ) : (\r\n    comments.map((comment) => (\r\n      <CommentComponent key={comment.createdAt} comment={comment} />\r\n    ))\r\n  );\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <div className=\"div-content\">\r\n        <div style={PostpageStyle}>\r\n          <div className=\"post-container center\" style={{ flex: \"2\" }}>\r\n            {displayPostDetails}\r\n            <div style={commentSectionStyle}>{displayComments}</div>\r\n            <div>\r\n              <CreateComment postId={post_handle} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// TODO: add proptypes\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loadingComments: state.data.loadingComments,\r\n  loading: state.data.loading,\r\n  post: state.data.post,\r\n  comments: state.data.comments,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  getPost,\r\n  getComments,\r\n  getOnlyPost,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(PostDetailPage);\r\n","import React from \"react\";\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// functional component\r\nconst AuthRoute = ({component: Component, authenticated, ...rest}) => (\r\n    <Route\r\n    {...rest}\r\n    render= {(props) => authenticated === true ? <Redirect to=\"/\"/> : <Component {...props}/>} \r\n    />\r\n);\r\n\r\n\r\nAuthRoute.propTypes = {\r\n    authenticated: PropTypes.bool.isRequired\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) =>({\r\n    authenticated: state.user.authenticated\r\n}) \r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(AuthRoute);","import { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport axios from \"axios\";\r\n\r\n//  decode token\r\nimport jwtDecode from \"jwt-decode\";\r\n//  redux\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport { SET_AUTHENTICATED } from \"./redux/types\";\r\nimport { logoutUser, getUserData } from \"./redux/actions/userAction\";\r\n\r\n// *components\r\n\r\nimport NavBar from \"./components/layout/NavBar\";\r\nimport Footer from \"./components/layout/Footer\";\r\n\r\n//* pages\r\nimport HomePage from \"./pages/homePage\";\r\nimport LoginPage from \"./pages/loginPage\";\r\nimport SignUpPage from \"./pages/signUpPage\";\r\nimport Profilepage from \"./pages/ProfilePage\";\r\nimport PostDetailsPage from \"./pages/postDetailPage\";\r\n// * Custom Routes\r\n\r\n//  authorization routes\r\nimport AuthRoute from \"./custom_routes/AuthRoute\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nconst token = localStorage.FBIdToken;\r\n\r\naxios.defaults.baseURL =\r\n  \"https://us-central1-contratofacil-2df81.cloudfunctions.net/api\";\r\n\r\nif (token) {\r\n  const decodedToken = jwtDecode(token);\r\n  // console.log(decodedToken);  //decoded token object\r\n  if (decodedToken.exp * 1000 < Date.now()) {\r\n    store.dispatch(logoutUser());\r\n  } else {\r\n    store.dispatch({ type: SET_AUTHENTICATED });\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n    store.dispatch(getUserData());\r\n  }\r\n}\r\n\r\n// *routes\r\n// some routes need to be authorized in this scenerio we use our authenticated variable which signals when the token has expired if the token has expired\r\nconst routes = (\r\n  <Switch>\r\n    <Route exact path=\"/\">\r\n      <HomePage />\r\n    </Route>\r\n    <AuthRoute path=\"/login\" component={LoginPage} />\r\n    <AuthRoute path=\"/signup\" component={SignUpPage} />\r\n    <Route path=\"/profile/:handle\" component={Profilepage} />\r\n    <Route path=\"/:user_handle/post/:post_handle\" component={PostDetailsPage} />\r\n  </Switch>\r\n);\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Provider store={store}>\r\n        <Router>\r\n          <NavBar />\r\n          {/* routes using switch */}\r\n          {routes}\r\n          <Footer />\r\n        </Router>\r\n      </Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}